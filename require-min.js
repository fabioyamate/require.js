!function(){"use strict";function e(e,n){return e.replace?e.replace(o,function(e,t){return"undefined"==typeof n?e:n[t]}):e}function n(e,n){this.name=e,this.fn=n,this.state=d,this.m={}}function t(n){var t,a=r[n];if(!a){var o=e(c,{name:n});throw new Error(o)}return i.push(a.name),t=a.load(),i.pop(),t}var a=this,r={},i=[],o=/\{\s*([^|}]+?)\s*(?:\|([^}]*))?\s*\}/g,s="Circular dependency, could not load '{name}' module.\n"+"Load stack:\n"+"{stackTrace}",c="Module '{name}' undefined.",u="Module '{name}' already defined.",d="pending",h="loading",f="loaded";n.prototype.load=function(){switch(this.state){case f:break;case h:var n=i.join("\n"),t=e(s,{name:this.name,stackTrace:n});throw new Error(t);default:this.state=h,this.fn.call(this.m,this.m,a),this.state=f}return this.m},a.define=function(t,a){if(r[t]){var i=e(u,{name:t});throw new Error(i)}r[t]=new n(t,a)},a.require=function(e){return t(e).exports}}.call(this);